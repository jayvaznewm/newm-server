ktor {
    development = false
    deployment {
        port = 3939
        port = ${?PORT}
        connectionIdleTimeoutSeconds = 30
        parallelism = 12
        connectionGroupSize = 13
        workerGroupSize = 13
        callGroupSize = 24
    }
    application {
        modules = [
            io.projectnewm.server.ApplicationKt.mainModule,
            io.projectnewm.server.portal.PortalModuleKt.portalModule,
            io.projectnewm.server.mobile.MobileModuleKt.mobileModule
        ]
    }
}

oauth {
    google {
        authorizeUrl = "https://accounts.google.com/o/oauth2/auth"
        accessTokenUrl = "https://accounts.google.com/o/oauth2/token"
        clientId = ${GOOGLE_CLIENT_ID}
        clientSecret = ${GOOGLE_CLIENT_SECRET}
        defaultScopes = ["https://www.googleapis.com/auth/userinfo.profile"]
    }
}

jwt {
    google {
        certificatesUrl = "https://www.googleapis.com/oauth2/v3/certs"
        issuer = "accounts.google.com"
        audience = ${GOOGLE_CLIENT_ID}
        cacheSize = 10
        cacheExpiresIn = 24
    }
}